package me.alpha432.oyvey.features.modules.exploit;

import me.alpha432.oyvey.event.events.PacketEvent;
import me.alpha432.oyvey.features.modules.Module;
import me.alpha432.oyvey.features.setting.Setting;
import net.minecraft.network.play.client.*;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;

public class PacketCancel extends Module
{
    public Setting<Boolean> cPacketInput= this.register(new Setting<Boolean>("Input", false));
    public Setting<Boolean> cPacketPlayer = this.register(new Setting<Boolean>("Player", false));
    public Setting<Boolean> cPacketPlayerAbilities = this.register(new Setting<Boolean>("Abilities", false));
    public Setting<Boolean> cPacketPlayerDigging = this.register(new Setting<Boolean>("Digging", false));
    public Setting<Boolean> cPacketPlayerPos = this.register(new Setting<Boolean>("Position", false));
    public Setting<Boolean> cPacketPlayerRot = this.register(new Setting<Boolean>("Rotation", false));
    public Setting<Boolean> cPacketPlayerPosRot = this.register(new Setting<Boolean>("PositionRotation", false));
    public Setting<Boolean> cPacketVehicleMove = this.register(new Setting<Boolean>("VehicleMove", false));
    public Setting<Boolean> cPacketPlayerTryUseItem = this.register(new Setting<Boolean>("TryUseItem", false));
    public Setting<Boolean> cPacketTryUseItemOnBlock = this.register(new Setting<Boolean>("TryUseItemOnBlock", false));
    public Setting<Boolean> cPacketUseEntity = this.register(new Setting<Boolean>("UseEntity", false));
    public Setting<Boolean> cPacketEntityAction = this.register(new Setting<Boolean>("EntityAction", false));
    public static PacketCancel INSTANCE;


    public PacketCancel() {
        super("PacketCancel", "cancl packet", Category.EXPLOIT, true, false, false);
        INSTANCE = this;
    }

    @SubscribeEvent
    public void onPacketSend(final PacketEvent.Send event) {
        if (this.cPacketInput.getValue() && event.getPacket() instanceof CPacketInput) {
            event.setCanceled(true);
        }
        if (this.cPacketPlayer.getValue() && event.getPacket() instanceof CPacketPlayer) {
            event.setCanceled(true);
        }
        if (this.cPacketPlayerAbilities.getValue() && event.getPacket() instanceof CPacketPlayerAbilities) {
            event.setCanceled(true);
        }
        if (this.cPacketPlayerDigging.getValue() && event.getPacket() instanceof CPacketPlayerDigging) {
            event.setCanceled(true);
        }
        if (this.cPacketPlayerPos.getValue() && event.getPacket() instanceof CPacketPlayer.Position) {
            event.setCanceled(true);
        }
        if (this.cPacketPlayerPosRot.getValue() && event.getPacket() instanceof CPacketPlayer.PositionRotation) {
            event.setCanceled(true);
        }
        if (this.cPacketPlayerRot.getValue() && event.getPacket() instanceof CPacketPlayer.Rotation) {
            event.setCanceled(true);
        }
        if (this.cPacketVehicleMove.getValue() && event.getPacket() instanceof CPacketVehicleMove) {
            event.setCanceled(true);
        }
        if (this.cPacketTryUseItemOnBlock.getValue() && event.getPacket() instanceof CPacketPlayerTryUseItemOnBlock) {
            event.setCanceled(true);
        }
        if (this.cPacketPlayerTryUseItem.getValue() && event.getPacket() instanceof CPacketPlayerTryUseItem) {
            event.setCanceled(true);
        }
        if (this.cPacketUseEntity.getValue() && event.getPacket() instanceof CPacketUseEntity) {
            event.setCanceled(true);
        }
        if (this.cPacketEntityAction.getValue() && event.getPacket() instanceof CPacketEntityAction) {
            event.setCanceled(true);
        }
    }
}
