package me.alpha432.oyvey.features.modules.exploit;

import me.alpha432.oyvey.features.command.Command;
import me.alpha432.oyvey.features.modules.Module;
import me.alpha432.oyvey.features.setting.Setting;
import net.minecraft.init.Items;
import net.minecraft.network.play.client.CPacketUseEntity;
import net.minecraft.util.EnumHand;

public class CowExploit extends Module {


    private final Setting<Integer> factor = this.register(new Setting<Integer>("Factor", 150, 10, 999));


    public CowExploit() {
        super("CowExploit", "Trol (s/o pvpb0t)", Category.EXPLOIT, true, false, false);
    }

    @Override
    public void onEnable()
    {
        if (mc.player.inventory.getCurrentItem().getItem().equals(Items.SHEARS)) {
            for (int i = 0; i < this.factor.getValue(); ++i) {
                if (mc.pointedEntity == null) continue;
                mc.getConnection().sendPacket(new CPacketUseEntity(mc.pointedEntity, EnumHand.MAIN_HAND));
            }
            Command.sendMessage("Finished shearing targeted entity.");

        } else {
            Command.sendMessage("You need to hold shears to do the glitch.");
        }
        this.disable();
    }


}